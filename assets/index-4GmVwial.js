import{j as a,d as f,a as c,e as N,L as b,F as d,f as y}from"./index-DzYkuHL-.js";import{u as v,A as P,a as T,G as g}from"./HeroHeaderBase-BPC8Waro.js";import{B,a as L,p as x,e as w,g as C,T as h,h as H}from"./BlogPostProps-DZElfToD.js";import{T as j}from"./TaxonomyList-DMBRC4dM.js";import{H as S}from"./HeroHeaderNormal-CADyrDss.js";const E=({children:t})=>a.jsx("div",{className:"sidebarPD",children:a.jsx("aside",{className:"sidebar-wrapper",children:t})}),I=({excludeIds:t})=>a.jsx(E,{children:a.jsx(B,{excludeIds:t,showDate:!0,showCat:!1,typeCard:"horizontal",search:!0,spaceRow:x(30),spaceCol:x(20),columList:1,sortOrder:"latest",postPerPage:L(4)},(t==null?void 0:t.join("-"))??"no-exclude")}),O=()=>{const[t]=f(),i=t.get("id"),[s,m]=c.useState(null),{data:o}=v(g.post.sheetId,g.post.apiKey),n=N(()=>{const e=Number(i);if(!e||isNaN(e))return;const r=o.find(l=>l.id===e);m(r||null)},100),p=[{label:"Blog",url:"/blog"},{label:`${s==null?void 0:s.title}`,url:""}];c.useEffect(()=>(n(),()=>n.cancel()),[i,n,o]);const u=c.useMemo(()=>s?[s.id]:[],[s]);return s?a.jsxs("div",{className:"blog-details",children:[a.jsx(S,{breadcrumb:!0,dataBreadcrumb:p,children:a.jsx("span",{className:"text",dangerouslySetInnerHTML:{__html:s.title}})}),a.jsx("div",{className:"container",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-lg-8 col-md-7 col-sm-12 col-12 col-left",children:a.jsxs(P,{animation:"fadeIn",duration:1.2,delayBase:.2,children:[s.image&&a.jsx("div",{className:"feature-image",children:a.jsx("img",{src:`${s.image}`,alt:T(s.title)})}),a.jsxs("div",{className:"infor-wraper",children:[s.date&&a.jsxs("div",{className:"post-date",children:[a.jsx("span",{className:"icon-date icon-infor",children:a.jsx(d,{icon:w})}),a.jsx("span",{children:s.date})]}),s.category&&a.jsxs("div",{className:"cat",children:[a.jsx("span",{className:"icon-cat icon-infor",children:a.jsx(d,{icon:C})}),a.jsx(h,{typeItem:"normal",linkParams:"/blog/category?cat",dataTax:s==null?void 0:s.category})]}),s.author&&a.jsxs("div",{className:"post-author",children:[a.jsx("span",{className:"icon-author icon-infor",children:a.jsx(d,{icon:H})}),a.jsx("span",{children:s.author})]})]}),a.jsx("div",{className:"main-content",dangerouslySetInnerHTML:{__html:s.content}}),a.jsx(h,{label:"Tags:",linkParams:"/blog/tag?tag",dataTax:s==null?void 0:s.tag,style:{marginTop:"20px",marginBottom:"30px"}}),a.jsxs("div",{className:"comments-section",style:{marginTop:40},children:[a.jsx("h3",{style:{marginBottom:20},children:"Comments"}),s.comments&&s.comments.length>0?s.comments.map((e,r)=>a.jsxs("div",{style:{marginBottom:20,paddingBottom:10,borderBottom:"1px solid #eee"},children:[a.jsx("strong",{children:e.fullName})," (",e.email,") on"," ",e.date,a.jsx("p",{children:e.message})]},r)):a.jsx("p",{children:"No comments yet. Be the first to comment!"}),a.jsx(y,{sheetWebAppUrl:"https://script.google.com/macros/s/AKfycbwdH03PNyWh0XEdTHJIkLVIVCg7UYv-Oh4T2fat-Q8KdA9FdbA6u7OEHiUoU7_ZYNT7/exec",rowIndex:o.findIndex(e=>e.id===s.id)+2,onCommentPosted:()=>{const e=Number(i),r=o.find(l=>l.id===e);r&&m({...r})},replyTo:s.author})]})]})}),a.jsx("div",{className:"col-lg-4 col-md-5 col-sm-12 col-12 col-right col-sidebar",children:a.jsxs("div",{className:"col-right-wraper",children:[a.jsx(I,{excludeIds:u}),a.jsx("div",{className:"margin-top-action",children:a.jsx(j,{typeList:"normal",linkParams:"/blog/category?cat",data:o,title:"Categories",field:"category",imageField:"imageCategory"})}),a.jsx("div",{className:"margin-top-action",children:a.jsx(j,{typeList:"tag",linkParams:"/blog/tag?tag",data:o,title:"Tags",field:"tag"})})]})})]})})]}):a.jsx("div",{className:"blog-details",children:a.jsx(b,{})})};export{O as BlogDetails};
